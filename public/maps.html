<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <!-- 1. Load platform support before any code that touches the DOM. -->
    <!--    <script src="http://129.132.114.114/js/remote.js"></script>  -->
    <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">
    <!-- 2. Load the component using an HTML Import -->

    <link rel="import" href="bower_components/xdmvcclient/polymer/xdmvc-synchronised.html">
    <link rel="import" href="bower_components/xdmvcclient/polymer/xdmvc-connect.html">
    <link rel="import" href="bower_components/xdmvcclient/polymer/xdmvc-connection.html">
    <link rel="import" href="bower_components/xdmvcclient/polymer/xdmvc-url-pairing.html">
    <link rel="import" href="bower_components/google-map/google-map.html">
    <title></title>
</head>
<body>

<dom-module id="my-app">
    <template>
        <xdmvc-connection ></xdmvc-connection>

        <xdmvc-synchronised id="sync"
                            objects='{{synced}}'>
        </xdmvc-synchronised>
        <xdmvc-devices id="devices" devices="{{devices}}"></xdmvc-devices>
        <xdmvc-url-pairing connector="viewer" connectee="controller" url="{{url}}"></xdmvc-url-pairing>
        </controller-layout>
        <google-map latitude="{{synced.map.latitude}}" longitude="{{synced.map.longitude}}"  zoom="{{synced.map.zoom}}">


        </google-map>

        <style>

            html,body {
                font-family: 'RobotoDraft', sans-serif;
            }

            img {
                max-width: 100%;
            }

            #buttons {
                margin-top : 8px;
                margin-left: -4px;
            }

            google-map {
                height: 600px;
            }

        </style>
    </template>
</dom-module>
<script>
    HTMLImports.whenReady(function () {

        Polymer({
            is: "my-app",
            properties: {
                synced: {
                    type: Object,
                    value: function(){ return { map: {latitude: 47.3786, longitude: 8.5488, zoom:12 }}} ,
                    notify: true
                },
                url:{
                    type: String,
                    notify: true
                },
                roles:{
                    type: Object,
                    notify: true
                },
                devices:{
                    type: Object,
                    notify: true
                },
                currentIndex: {
                    type: Number
                }
            }

        });
    });
</script>

<my-app></my-app>


</body>
</html>